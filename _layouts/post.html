---
layout: default
---

<div class="container">
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">{{ page.title }}</h1>
      <div class="post-meta">
        <span class="post-date">{{ page.date | date: "%Y년 %m월 %d일" }}</span>
        {% if page.category %}
        <span class="post-category">{{ page.category }}</span>
        {% endif %}
      </div>
      {% if page.tags %}
      <div class="card-tags">
        {% for tag in page.tags %}
        <a href="{{ '/blog/?tag=' | append: tag | relative_url }}" class="tag">{{ tag }}</a>
        {% endfor %}
      </div>
      {% endif %}
    </header>
    
    <div class="post-content">
      {{ content }}
    </div>
  </article>
  
  <!-- Related posts by tags -->
  {% if page.tags %}
  <section class="related-posts">
    <h2>관련 글</h2>
    <div class="projects-grid">
      {% assign related_posts = site.posts | where_exp: "post", "post.url != page.url" | slice: 0, 3 %}
      {% for post in related_posts %}
        {% assign has_common_tag = false %}
        {% for tag in post.tags %}
          {% if page.tags contains tag %}
            {% assign has_common_tag = true %}
            {% break %}
          {% endif %}
        {% endfor %}
        {% if has_common_tag %}
        <div class="card">
          <h3 class="card-title">
            <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
          </h3>
          <div class="card-meta">{{ post.date | date: "%Y-%m-%d" }}</div>
        </div>
        {% endif %}
      {% endfor %}
    </div>
  </section>
  {% endif %}
</div>
